---
created: '2025-05-05 12:21:34 UTC'
updated: '2025-05-05 12:21:46 UTC'
---

# Random forest classification in Julia

Below is example code for fitting and evaluating a linear regression and random forest classifier in Julia.
I've added the linear regression as a baseline for the random forest.
The models are evaluated on a mock variable $U$ generated from two distributions, namely

$$
\begin{aligned}
d_1 &= \text{Normal}(10, 2) \: \: \text{and} \\
d_2 &= \text{Normal}(12, 2),
\end{aligned}
$$

The random variable $V$ is just noise meant to test the classifier, generated via

$$
V \sim \text{Normal}(100, 10)
$$

This data isn't meant to show that random forests are good classifiers per se.
It is just meant to show how to fit and plot random forests in Julia.
One way to show that random forests are accurate would be to have about the same or more variables than observations (Biau & Scornet, [2016](https://doi.org/10.1007/s11749-016-0481-7)).

## Data generation

Let's load some packages and generate the data:

```julia
import MLJGLMInterface
import MLJDecisionTreeInterface

using CairoMakie
using CategoricalArrays
using Colors: RGB
using DataFrames
using Distributions
using MLJBase
using MLJ
using StableRNGs: StableRNGs
using Random
```

```julia
classlabels = ["A", "B"];
```

```julia
df = let
    # Number of elements per class.
    n = 70
    μ1 = 10
    μ2 = 12
    σ = 2

    d1 = Normal(μ1, σ)
    d2 = Normal(μ2, σ)

    Random.seed!(12)
    classes = repeat(classlabels, n)

    df = DataFrame(
        class = categorical(classes),
        U = [class == "A" ? rand(d1) : rand(d2) for class in classes],
        V = rand(Normal(100, 10), 2n)
    )
end
```

class | U | V
--- | --- | ---
"A" | 10.6777 | 98.1947
"B" | 14.0715 | 101.393
"A" | 7.0505 | 119.386
"B" | 17.3497 | 89.6641
"A" | 8.29689 | 97.1358
"B" | 11.2469 | 94.0527
"A" | 9.91297 | 99.3432
"B" | 15.6322 | 109.662
"A" | 8.9616 | 105.435
"B" | 13.6919 | 110.949
... | ... | ...
"B" | 13.22 | 93.4114

