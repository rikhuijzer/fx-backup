---
created: '2025-05-05 14:11:43 UTC'
updated: '2025-05-05 14:11:43 UTC'
---

# Increasing model accuracy by using foreknowledge

Typically, when making predictions via a linear model, we fit the model on our data and make predictions from the fitted model.
However, this doesn't take much foreknowledge into account.
For example, when predicting a person's length given only the weight and gender, we already have an intuition about the effect size and direction.
Bayesian analysis should be able to incorporate this prior information.

In this blog post, I aim to figure out whether foreknowledge can, in theory, increase model accuracy.
To do this, I generate data and fit a linear model and a Bayesian binary regression.
Next, I compare the accuracy of the model parameters from the linear and Bayesian model.

```julia
using AlgebraOfGraphics
using CairoMakie
using CategoricalArrays
using DataFrames
using GLM
using MLDataUtils: rescale!
using Random: seed!
using Statistics
using StatsFuns
using Turing
```

We define the model as $g_i = a_e * a_i + r_e * r_i + \epsilon_i = 1.1 * a_i + 1.05 * r_i + \epsilon_i$ where $a_e$ is the coefficient for the age, $r_e$ is a coefficient for the nationality and $\epsilon_i$ is some random noise for individual $i$.

We generate data for $n$ individuals via:

```julia
function generate_data(i::Int)
  seed!(i)

  n = 120
  I = 1:n
  P = [i % 2 == 0 for i in I]
  r_2(x) = round(x; digits=2)

  A = r_2.([p ? rand(Normal(aₑ * 18, 1)) : rand(Normal(18, 1)) for p in P])
  R = r_2.([p ? rand(Normal(rₑ * 6, 3)) : rand(Normal(6, 3)) for p in P])
  E = r_2.(rand(Normal(0, 1), n))
  G = aₑ .* A + rₑ .* R .+ E
  G = r_2.(G)

  df = DataFrame(age=A, recent=R, error=E, grade=G, pass=P)
end;
```

```julia
df = generate_data(1)
```

age | recent | error | grade | pass
--- | --- | --- | --- | ---
17.93 | 7.49 | 0.48 | 28.07 | false
20.33 | 1.19 | -0.8 | 22.81 | true
17.19 | 10.25 | -1.16 | 28.51 | false
22.26 | 5.51 | -0.47 | 29.8 | true
19.16 | 0.07 | -2.05 | 19.1 | false
20.07 | 10.87 | -0.42 | 33.07 | true
19.75 | 6.37 | -1.43 | 26.98 | false
18.97 | 4.25 | -0.46 | 24.87 | true
16.96 | 5.22 | -0.51 | 23.63 | false
19.47 | -0.88 | -0.61 | 19.88 | true
... | ... | ... | ... | ...
120 | 21.3 | 3.17 | -0.4 | 26.36 | true

